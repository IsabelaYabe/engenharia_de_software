2024-12-07 11:32:42,628 | INFO | event_manager:subscribe - Created new subscriber list for event CustomEvent
2024-12-07 11:32:42,628 | INFO | event_manager:subscribe - Subscriber added to event CustomEvent
2024-12-07 11:32:42,629 | INFO | event_manager:notify - Event CustomEvent notified successfully
2024-12-07 11:32:42,629 | INFO | event_manager:subscribe - Created new subscriber list for event TestEvent
2024-12-07 11:32:42,629 | INFO | event_manager:subscribe - Subscriber added to event TestEvent
2024-12-07 11:32:42,630 | INFO | pub_notify_strategy:notify - Notifying subscribers for event TestEvent with data: {'key': 'value'}
2024-12-07 11:32:42,630 | INFO | pub_notify_strategy:notify - Subscriber mock_table updated for event TestEvent
2024-12-07 11:32:42,630 | INFO | event_manager:notify - Event TestEvent notified successfully
2024-12-07 11:32:42,630 | INFO | event_manager:subscribe - Created new subscriber list for event TestEvent
2024-12-07 11:32:42,630 | INFO | event_manager:subscribe - Subscriber added to event TestEvent
2024-12-07 11:32:42,631 | INFO | event_manager:unsubscribe - Subscriber removed from event TestEvent
2024-12-07 11:50:10,456 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:50:10,456 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:50:10,501 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: products_profile
2024-12-07 11:50:10,502 | INFO | decorators_class:new_init - The data was instantiated as a subscriber of events: ['PurchaseProductEvent']
2024-12-07 11:50:10,502 | INFO | event_manager:subscribe - Created new subscriber list for event PurchaseProductEvent
2024-12-07 11:50:10,502 | INFO | event_manager:subscribe - Subscriber added to event PurchaseProductEvent
2024-12-07 11:50:10,502 | INFO | decorators_class:new_init - Subscribed to event PurchaseProductEvent
2024-12-07 11:50:10,502 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: users_profile
2024-12-07 11:50:10,502 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: vending_machines_profile
2024-12-07 11:50:10,502 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: owners_profile
2024-12-07 11:50:10,502 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: product_complaint
2024-12-07 11:50:10,502 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: product_comment
2024-12-07 11:50:10,502 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: purchase_transaction
2024-12-07 11:50:10,503 | INFO | decorators_class:new_init - The data was instantiated as a publisher of events: ['PurchaseProductEvent']
2024-12-07 11:50:10,503 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: vending_machine_complaint
2024-12-07 11:50:10,503 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: vending_machine_comment
2024-12-07 11:50:10,503 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: favorite_vending_machines
2024-12-07 11:50:10,503 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: favorite_products
2024-12-07 11:50:10,503 | ERROR | database_manager_central:add_product_quantity - Error adding quantity to product: The quantity to be added must be greater than zero.
2024-12-07 11:50:10,503 | INFO | test_database_manager_central:test_add_product_quantity_invalid_quantity - Test add_product_quantity_invalid_quantity: OK!!! ---------------------------> TEST 11 OK!!!
2024-12-07 11:50:10,505 | ERROR | database_manager_central:add_product_quantity - Error adding quantity to product: Product not found.
2024-12-07 11:50:10,505 | INFO | test_database_manager_central:test_add_product_quantity_not_found - Test add_product_quantity_not_found: OK!!! ---------------------------> TEST 12 OK!!!
2024-12-07 11:50:10,507 | INFO | database_manager_central:add_product_quantity - Product quantity 'Product A' (ID: 123) increased from 50 to 70.
2024-12-07 11:50:10,507 | INFO | test_database_manager_central:test_add_product_quantity_success - Test add_product_quantity_success: OK!!! ---------------------------> TEST 10 OK!!!
2024-12-07 11:50:10,510 | INFO | database_manager_central:insert_record - Record added to 'purchase_transaction' with ID 'transaction_id' and data {'user_id': 'valid_user', 'product_id': 'valid_product', 'vending_machine_id': 'valid_vm', 'quantity': 2, 'amount_paid_per_unit': 10.0}
2024-12-07 11:50:10,510 | INFO | database_manager_central:add_purchase_transaction - Purchase transaction recorded with ID 'transaction_id' for user 'valid_user'
2024-12-07 11:50:10,510 | ERROR | database_manager_central:add_purchase_transaction - Failed to notify event 'PurchaseProductEvent': Notify failure
2024-12-07 11:50:10,510 | ERROR | database_manager_central:add_purchase_transaction - Error registering purchase transaction: Failed to publish event: Notify failure
2024-12-07 11:50:10,510 | INFO | test_database_manager_central:test_add_purchase_transaction_event_notify_failure - Test add_purchase_transaction_event_notify_failure: OK!!! ---------------------------> TEST 9 OK!!!
2024-12-07 11:50:10,512 | ERROR | database_manager_central:insert_record - Error inserting record into 'purchase_transaction': Foreign key value 'invalid_user' does not exist in table 'users_profile'.
2024-12-07 11:50:10,512 | ERROR | database_manager_central:add_purchase_transaction - Error registering purchase transaction: Foreign key value 'invalid_user' does not exist in table 'users_profile'.
2024-12-07 11:50:10,512 | INFO | test_database_manager_central:test_add_purchase_transaction_invalid_foreign_key - Test add_purchase_transaction_invalid_foreign_key: OK!!! ---------------------------> TEST 8 OK!!!
2024-12-07 11:50:10,514 | INFO | database_manager_central:insert_record - Record added to 'purchase_transaction' with ID 'transaction_id' and data {'user_id': 'valid_user', 'product_id': 'valid_product', 'vending_machine_id': 'valid_vm', 'quantity': 2, 'amount_paid_per_unit': 10.0}
2024-12-07 11:50:10,514 | INFO | database_manager_central:add_purchase_transaction - Purchase transaction recorded with ID 'transaction_id' for user 'valid_user'
2024-12-07 11:50:10,515 | INFO | database_manager_central:add_purchase_transaction - Event 'PurchaseProductEvent' published with data: {'transaction_id': 'transaction_id', 'user_id': 'valid_user', 'product_id': 'valid_product', 'vending_machine_id': 'valid_vm', 'quantity': 2, 'amount_paid_per_unit': 10.0}
2024-12-07 11:50:10,515 | INFO | test_database_manager_central:test_add_purchase_transaction_success - Test add_purchase_transaction_success: OK!!! ---------------------------> TEST 7 OK!!!
2024-12-07 11:50:10,516 | INFO | database_manager_central:insert_record - Record added to 'users_profile' with ID 'new_user_id' and data {'username': 'test_user', 'email': 'test_user@example.com', 'password': 'secure_password', 'first_name': 'Test', 'last_name': 'User', 'birthdate': '1990-01-01', 'phone_number': '1234567890', 'address': '123 Test Street', 'budget': 100.0}
2024-12-07 11:50:10,516 | INFO | test_database_manager_central:test_add_user - Test add_user: OK!!! ---------------------------> TEST 6 OK!!!
2024-12-07 11:50:10,516 | INFO | database_manager_central:get_sales_report - Sales report generated between 2024-01-01 and 2024-12-31: [{'product_id': 'prod_1', 'total_sold': 100}, {'product_id': 'prod_2', 'total_sold': 50}]
2024-12-07 11:50:10,516 | INFO | test_database_manager_central:test_get_sales_report - Test get_sales_report: OK!!! ---------------------------> TEST 16 OK!!!
2024-12-07 11:50:10,517 | INFO | database_manager_central:insert_record - Record added to 'products_profile' with ID 'new_product_id' and data {'name': 'Test Product', 'description': 'A test product', 'price': 10.0, 'quantity': 100}
2024-12-07 11:50:10,517 | INFO | test_database_manager_central:test_insert_record_no_foreign_keys - Test insert_record_no_foreign_keys: OK!!! ---------------------------> TEST 2 OK!!!
2024-12-07 11:50:10,517 | ERROR | database_manager_central:insert_record - Error inserting record into 'non_existent_table': Table 'non_existent_table' not found in instance tables.
2024-12-07 11:50:10,519 | INFO | test_database_manager_central:test_insert_record_table_not_found - Test insert_record_table_not_found: OK!!! ---------------------------> TEST 5 OK!!!
2024-12-07 11:50:10,520 | ERROR | database_manager_central:insert_record - Error inserting record into 'products_profile': Foreign key value 'invalid_id' does not exist in table 'vending_machines_profile'.
2024-12-07 11:50:10,520 | INFO | test_database_manager_central:test_insert_record_with_invalid_foreign_key - Test insert_record_with_invalid_foreign_key: OK!!! ---------------------------> TEST 4 OK!!!
2024-12-07 11:50:10,521 | INFO | database_manager_central:insert_record - Record added to 'products_profile' with ID 'new_product_id' and data {'name': 'Test Product', 'description': 'A test product', 'price': 10.0, 'quantity': 100, 'vending_machine_id': 'valid_id'}
2024-12-07 11:50:10,521 | INFO | test_database_manager_central:test_insert_record_with_valid_foreign_keys - Test insert_record_with_valid_foreign_keys: OK!!! ---------------------------> TEST 3 OK!!!
2024-12-07 11:50:10,523 | INFO | test_database_manager_central:test_products_profile_initialization - Test connect: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:50:10,524 | ERROR | database_manager_central:search_table - Error fetching from table 'products_profile': Error fetching from table 'products_profile'
2024-12-07 11:50:10,524 | INFO | test_database_manager_central:test_search_table_search_failure - Test search_table_search_failure: OK!!! ---------------------------> TEST 15 OK!!!
2024-12-07 11:50:10,524 | INFO | database_manager_central:search_table - Search performed on table 'products_profile' with filters {'id': '1'}: [{'id': '1', 'name': 'Product A'}]
2024-12-07 11:50:10,524 | INFO | test_database_manager_central:test_search_table_success - Test search_table_success: OK!!! ---------------------------> TEST 13 OK!!!
2024-12-07 11:50:10,525 | ERROR | database_manager_central:search_table - Error fetching from table 'invalid_table': Table 'invalid_table' not found.
2024-12-07 11:50:10,525 | INFO | test_database_manager_central:test_search_table_table_not_found - Test search_table_table_not_found: OK!!! ---------------------------> TEST 14 OK!!!
2024-12-07 11:50:18,451 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:50:18,451 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:50:18,459 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,461 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,461 | INFO | database_manager:add_column - Column new_col was added to test_table as INT and not_null False
2024-12-07 11:50:18,461 | INFO | test_database_manager:test_add_column_not_null_false - Test add column column not null false: OK!!! ---------------------------> TEST 5 OK!!!
2024-12-07 11:50:18,461 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,462 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,462 | INFO | database_manager:add_column - Column new_col was added to test_table as INT and not_null True
2024-12-07 11:50:18,463 | INFO | test_database_manager:test_add_column_not_null_true - Test add column column not null true: OK!!! ---------------------------> TEST 4 OK!!!
2024-12-07 11:50:18,463 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,463 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,463 | INFO | test_database_manager:test_connect - Test connect: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:50:18,463 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,464 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,466 | INFO | database_manager:create_table - Table created test_table
2024-12-07 11:50:18,466 | INFO | test_database_manager:test_create_exist_table - Test create exist table: OK!!! ---------------------------> TEST 11 OK!!!
2024-12-07 11:50:18,466 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,467 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,467 | INFO | test_database_manager:test_create_non_exist_table - Test create non exist table: OK!!! ---------------------------> TEST 10 OK!!!
2024-12-07 11:50:18,467 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,467 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,469 | INFO | database_manager:delete_column - Column col2 was deleted from test_table
2024-12-07 11:50:18,469 | INFO | test_database_manager:test_delete_column - Test delete column: OK!!! ---------------------------> TEST 6 OK!!!
2024-12-07 11:50:18,469 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,470 | INFO | utils:tuple_rows_to_dict - List of dictionaries: [{'id': 'id_1', 'col1': 'record', 'col2': 'value_21', 'col3': 'value_31'}, {'id': 'id_2', 'col1': 'record', 'col2': 'value_22', 'col3': 'value_32'}]
2024-12-07 11:50:18,470 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,470 | INFO | database_manager:delete_rows - All rows with value record in col1 was delete from test_table: [{'id': 'id_1', 'col1': 'record', 'col2': 'value_21', 'col3': 'value_31'}, {'id': 'id_2', 'col1': 'record', 'col2': 'value_22', 'col3': 'value_32'}]
2024-12-07 11:50:18,470 | INFO | test_database_manager:test_delete_rows - Test delete rows: OK!!! ---------------------------> TEST 7 OK!!!
2024-12-07 11:50:18,470 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,471 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,472 | INFO | database_manager:search_record - Records founds: <MagicMock name='connect().__enter__().cursor().__enter__().fetchall()' id='2349996251888'>
2024-12-07 11:50:18,472 | INFO | utils:tuple_rows_to_dict - List of dictionaries: []
2024-12-07 11:50:18,473 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,473 | INFO | database_manager:delete_rows - All rows with value record in col1 was delete from test_table: []
2024-12-07 11:50:18,473 | INFO | test_database_manager:test_delete_rows_not_found - Test delete rows not found: OK!!! ---------------------------> TEST 8 OK!!!
2024-12-07 11:50:18,473 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,474 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,474 | INFO | database_manager:delete_table - Table test_table deleted
2024-12-07 11:50:18,474 | INFO | test_database_manager:test_delete_table - Test delete table: OK!!! ---------------------------> TEST 12 OK!!!
2024-12-07 11:50:18,474 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,475 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,476 | INFO | test_database_manager:test_execute_sql - Test execute sql: OK!!! ---------------------------> TEST 18 OK!!!
2024-12-07 11:50:18,476 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,477 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,478 | INFO | database_manager:get_by_id - Got instance with id: 12345678-1234-5678-1234-567812345678
2024-12-07 11:50:18,478 | INFO | test_database_manager:test_get_by_id - Test get by id: OK!!! ---------------------------> TEST 15 OK!!!
2024-12-07 11:50:18,479 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,480 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,480 | WARNING | database_manager:get_by_id - No instance found with id: 12345678-1234-5678-1234-567812345678
2024-12-07 11:50:18,481 | INFO | test_database_manager:test_get_by_id_not_found - Test get by id not: OK!!! ---------------------------> TEST 16 OK!!!
2024-12-07 11:50:18,481 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,483 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,484 | INFO | database_manager:insert_row - Row ({'col0': 'value_0', 'col_1': 'value_1', 'col3': 'value_3'}) inserted in table test_table with id 12345678-1234-5678-1234-567812345678
2024-12-07 11:50:18,484 | INFO | test_database_manager:test_insert_row - Test delete table: OK!!! ---------------------------> TEST 13 OK!!!
2024-12-07 11:50:18,484 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,484 | ERROR | database_manager:modify_column - An attempt was made to change the name of the id column
2024-12-07 11:50:18,484 | INFO | test_database_manager:test_modify_column_modify_column_id_error - Test modify column column id error: OK!!! ---------------------------> TEST 3 OK!!!
2024-12-07 11:50:18,484 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,486 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,487 | INFO | database_manager:modify_column - Column col1 from test_table was changed to col0
2024-12-07 11:50:18,487 | INFO | test_database_manager:test_modify_column_success - Test modify column sucess: OK!!! ---------------------------> TEST 2 OK!!!
2024-12-07 11:50:18,487 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,487 | INFO | test_database_manager:test_regex_to_get_table_name - Test regex to get table name: OK!!! ---------------------------> TEST 9 OK!!!
2024-12-07 11:50:18,487 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,490 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,490 | INFO | database_manager:search_record - Records founds: [('12345678-1234-5678-1234-567812344582', 'value_1', 'value_2', 'value_30'), ('85445678-1963-5458-7829-716812340354', 'value_1', 'value_2', 'value_31')]
2024-12-07 11:50:18,491 | INFO | test_database_manager:test_search_record - Test search record: OK!!! ---------------------------> TEST 17 OK!!!
2024-12-07 11:50:18,491 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:50:18,493 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,493 | INFO | database_manager:get_by_id - Got instance with id: 12345678-1234-5678-1234-567812345678
2024-12-07 11:50:18,494 | INFO | decorators_method:wrapper - Record with ID 12345678-1234-5678-1234-567812345678 found
2024-12-07 11:50:18,494 | INFO | utils:tuple_to_dict - Dictionary: {'id': <MagicMock name='connect().__enter__().cursor().__enter__().fetchall().__getitem__().__getitem__()' id='2350011667696'>, 'col1': <MagicMock name='connect().__enter__().cursor().__enter__().fetchall().__getitem__().__getitem__()' id='2350011667696'>, 'col2': <MagicMock name='connect().__enter__().cursor().__enter__().fetchall().__getitem__().__getitem__()' id='2350011667696'>, 'col3': <MagicMock name='connect().__enter__().cursor().__enter__().fetchall().__getitem__().__getitem__()' id='2350011667696'>}
2024-12-07 11:50:18,494 | INFO | decorators_method:wrapper - Update allowed fields
2024-12-07 11:50:18,494 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,495 | INFO | database_manager:get_by_id - Got instance with id: 12345678-1234-5678-1234-567812345678
2024-12-07 11:50:18,495 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,495 | INFO | database_manager:__connect - Connected into database
2024-12-07 11:50:18,495 | INFO | database_manager:get_by_id - Got instance with id: 12345678-1234-5678-1234-567812345678
2024-12-07 11:50:18,496 | INFO | database_manager:update_row - Row 12345678-1234-5678-1234-567812345678 id from table test_table updated columns: col0, col_1, col3 (from <MagicMock name='connect().__enter__().cursor().__enter__().fetchall().__getitem__()' id='2350012266160'> (old row) to <MagicMock name='connect().__enter__().cursor().__enter__().fetchall().__getitem__()' id='2350012266160'> (new row))
2024-12-07 11:50:18,496 | INFO | test_database_manager:test_update_row - Test update row: OK!!! ---------------------------> TEST 14 OK!!!
2024-12-07 11:50:26,766 | INFO | pub_notify_strategy:notify - Notifying subscribers for event TestEvent with data: {'key': 'value'}
2024-12-07 11:50:26,766 | ERROR | pub_notify_strategy:notify - Failed to notify subscriber <__main__.MockSubscriber object at 0x00000128D9DEA7B0> for event TestEvent: Update failed for Table1
2024-12-07 11:50:26,766 | INFO | pub_notify_strategy:notify - Subscriber Table2 updated for event TestEvent
2024-12-07 11:50:26,766 | INFO | test_default_pub_notify_strategy:test_notify_failure - Test notify_failure passed: OK!!! ---------------------------> TEST 2 OK!!!
2024-12-07 11:50:26,766 | INFO | pub_notify_strategy:notify - Notifying subscribers for event TestEvent with data: {'key': 'value'}
2024-12-07 11:50:26,766 | INFO | pub_notify_strategy:notify - Subscriber Table1 updated for event TestEvent
2024-12-07 11:50:26,767 | INFO | pub_notify_strategy:notify - Subscriber Table2 updated for event TestEvent
2024-12-07 11:50:26,767 | INFO | test_default_pub_notify_strategy:test_notify_success - Test notify_success passed: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:50:33,249 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:50:33,249 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:50:33,257 | INFO | test_flask_api:TestFlaskAPI - Test run: OK!!! ---------------------------> TEST 9 OK!!!
2024-12-07 11:50:33,259 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,280 | INFO | flask_api:_create_record_api - Record created with id id
2024-12-07 11:50:33,280 | INFO | test_flask_api:test_create_record_api - Test create record api: OK!!! ---------------------------> TEST 3 OK!!!
2024-12-07 11:50:33,281 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,283 | ERROR | flask_api:_create_record_api - Record failed to be created
2024-12-07 11:50:33,284 | INFO | test_flask_api:test_create_record_api_exception - Test create record api exception: OK!!! ---------------------------> TEST 4 OK!!!
2024-12-07 11:50:33,284 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,286 | INFO | flask_api:_delete_record_api - Record id deleted
2024-12-07 11:50:33,287 | INFO | test_flask_api:test_delete_record_api - Test delete record api: OK!!! ---------------------------> TEST 7 OK!!!
2024-12-07 11:50:33,287 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,289 | ERROR | flask_api:_delete_record_api - Record id failed to be deleted
2024-12-07 11:50:33,289 | INFO | test_flask_api:test_delete_record_api_exception - Test delete record api exception: OK!!! ---------------------------> TEST 8 OK!!!
2024-12-07 11:50:33,290 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,294 | INFO | flask_api:_get_record_api - Record 1 found
2024-12-07 11:50:33,294 | INFO | test_flask_api:test_get_record_api - Test get api by id: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:50:33,295 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,300 | ERROR | flask_api:_get_record_api - Record 1 not found
2024-12-07 11:50:33,300 | INFO | test_flask_api:test_get_record_api_not_found - Test get api by id not found: OK!!! ---------------------------> TEST 2 OK!!!
2024-12-07 11:50:33,300 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,302 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,316 | ERROR | flask_api:_search_record_api - Error during search: Search failed
2024-12-07 11:50:33,316 | INFO | test_flask_api:test_search_record_api_exception - Test search record api exception: OK!!! ---------------------------> TEST 11 OK!!!
2024-12-07 11:50:33,316 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,320 | WARNING | flask_api:_search_record_api - No records found with query: {'col1': 'nonexistent_value'}
2024-12-07 11:50:33,320 | INFO | test_flask_api:test_search_record_api_no_results - Test search record api no results: OK!!! ---------------------------> TEST 10 OK!!!
2024-12-07 11:50:33,321 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,323 | INFO | flask_api:_update_record_api - Record id updated with {'col2': 'value_2'}
2024-12-07 11:50:33,323 | INFO | test_flask_api:test_update_record_api - Test update record api: OK!!! ---------------------------> TEST 5 OK!!!
2024-12-07 11:50:33,323 | INFO | test_flask_api:setUp - SetUp module to test
2024-12-07 11:50:33,326 | ERROR | flask_api:_update_record_api - Record id failed to be updated
2024-12-07 11:50:33,326 | INFO | test_flask_api:test_update_record_api_exception - Test update record api exception: OK!!! ---------------------------> TEST 6 OK!!!
2024-12-07 11:50:41,070 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:50:41,070 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:50:41,071 | ERROR | decorators_method:wrapper - Record with ID 999 not found
2024-12-07 11:50:41,072 | INFO | test_immutable_fields:test_record_not_found - Test record not found: OK!!! ---------------------------> TEST 4 OK!!!
2024-12-07 11:50:41,072 | INFO | decorators_method:wrapper - Record with ID 1 found
2024-12-07 11:50:41,072 | INFO | utils:tuple_to_dict - Dictionary: {'id': '1', 'col1': 'value_1', 'col2': 'value_2', 'col3': 'value_3', 'col_id': 'value_id'}
2024-12-07 11:50:41,072 | INFO | decorators_method:wrapper - Update allowed fields
2024-12-07 11:50:41,072 | INFO | test_immutable_fields:update_record - Record 1 updated with {'col1': 'new_value_1'}
2024-12-07 11:50:41,072 | INFO | test_immutable_fields:test_update_allowed_fields - Test update allowed fields: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:50:41,072 | INFO | decorators_method:wrapper - Record with ID 1 found
2024-12-07 11:50:41,072 | INFO | utils:tuple_to_dict - Dictionary: {'id': '1', 'col1': 'value_1', 'col2': 'value_2', 'col3': 'value_3', 'col_id': 'value_id'}
2024-12-07 11:50:41,072 | INFO | decorators_method:wrapper - Update allowed fields
2024-12-07 11:50:41,073 | INFO | test_immutable_fields:update_record - Record 1 updated with {'col_id': 'new_value_id'}
2024-12-07 11:50:41,074 | INFO | decorators_method:wrapper - Record with ID 1 found
2024-12-07 11:50:41,074 | INFO | utils:tuple_to_dict - Dictionary: {'id': '1', 'col1': 'value_1', 'col2': 'value_2', 'col3': 'value_3', 'col_id': 'value_id'}
2024-12-07 11:50:41,074 | INFO | decorators_method:wrapper - Update allowed fields
2024-12-07 11:50:41,074 | INFO | test_immutable_fields:update_record - Record 1 updated with {'id': '2'}
2024-12-07 11:51:18,103 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:51:18,103 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:51:18,110 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:51:18,111 | INFO | decorators_class:new_init - The data was instantiated as a publisher of events: ['event_create', 'event_delete']
2024-12-07 11:51:18,111 | INFO | decorators_class:new_init - The data was instantiated as a subscriber of events: ['event_update']
2024-12-07 11:51:18,111 | WARNING | decorators_class:new_init - No update strategy registered for event 'event_update'. Using default.
2024-12-07 11:51:18,111 | INFO | decorators_class:new_init - Subscribed to event event_update
2024-12-07 11:51:18,112 | INFO | decorators_class:update - Received event event_update with data: {'id': '123', 'name': 'updated_name', 'value': 84}
2024-12-07 11:51:18,112 | INFO | test_pubsub_decorator:test_handle_subscribed_event - Test handle subscribed event: OK!!! ---------------------------> TEST 4 OK!!!
2024-12-07 11:51:18,113 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:51:18,113 | INFO | decorators_class:new_init - The data was instantiated as a publisher of events: ['event_create', 'event_delete']
2024-12-07 11:51:18,113 | INFO | decorators_class:new_init - The data was instantiated as a subscriber of events: ['event_update']
2024-12-07 11:51:18,113 | WARNING | decorators_class:new_init - No update strategy registered for event 'event_update'. Using default.
2024-12-07 11:51:18,114 | INFO | decorators_class:new_init - Subscribed to event event_update
2024-12-07 11:51:18,115 | INFO | test_pubsub_decorator:test_handle_unsubscribed_event - Test handle unsubscribed event: OK!!! ---------------------------> TEST 5 OK!!!
2024-12-07 11:51:18,116 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:51:18,116 | INFO | decorators_class:new_init - The data was instantiated as a publisher of events: ['event_create', 'event_delete']
2024-12-07 11:51:18,116 | INFO | decorators_class:new_init - The data was instantiated as a subscriber of events: ['event_update']
2024-12-07 11:51:18,116 | WARNING | decorators_class:new_init - No update strategy registered for event 'event_update'. Using default.
2024-12-07 11:51:18,117 | INFO | decorators_class:new_init - Subscribed to event event_update
2024-12-07 11:51:18,117 | INFO | test_pubsub_decorator:test_publish_event_invalid_type - Test publish event invalid type: OK!!! ---------------------------> TEST 2 OK!!!
2024-12-07 11:51:18,117 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:51:18,117 | INFO | decorators_class:new_init - The data was instantiated as a publisher of events: ['event_create', 'event_delete']
2024-12-07 11:51:18,117 | INFO | decorators_class:new_init - The data was instantiated as a subscriber of events: ['event_update']
2024-12-07 11:51:18,117 | WARNING | decorators_class:new_init - No update strategy registered for event 'event_update'. Using default.
2024-12-07 11:51:18,117 | INFO | decorators_class:new_init - Subscribed to event event_update
2024-12-07 11:51:18,117 | INFO | decorators_class:publish_event - Event published: event_create with data: {'id': '123', 'name': 'test', 'value': 42}
2024-12-07 11:51:18,117 | INFO | test_pubsub_decorator:test_publish_event_success - Test publish event success: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:51:18,119 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:51:18,120 | INFO | decorators_class:new_init - The data was instantiated as a publisher of events: ['event_create', 'event_delete']
2024-12-07 11:51:18,120 | INFO | decorators_class:new_init - The data was instantiated as a subscriber of events: ['event_update']
2024-12-07 11:51:18,120 | WARNING | decorators_class:new_init - No update strategy registered for event 'event_update'. Using default.
2024-12-07 11:51:18,120 | INFO | decorators_class:new_init - Subscribed to event event_update
2024-12-07 11:51:18,120 | INFO | test_pubsub_decorator:test_subscribe_to_events - Test subscribe to events: OK!!! ---------------------------> TEST 3 OK!!!
2024-12-07 11:51:18,121 | INFO | database_manager:__init__ - Initializing DatabaseManager for table: test_table
2024-12-07 11:51:18,121 | INFO | decorators_class:new_init - The data was instantiated as a publisher of events: ['event_create', 'event_delete']
2024-12-07 11:51:18,121 | INFO | decorators_class:new_init - The data was instantiated as a subscriber of events: ['event_update']
2024-12-07 11:51:18,121 | WARNING | decorators_class:new_init - No update strategy registered for event 'event_update'. Using default.
2024-12-07 11:51:18,122 | INFO | decorators_class:new_init - Subscribed to event event_update
2024-12-07 11:51:18,122 | INFO | test_pubsub_decorator:test_subscribe_to_invalid_event - Test subscribe to invalid event: OK!!! ---------------------------> TEST 6 OK!!!
2024-12-07 11:51:24,843 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Test Product', 'vending_machine_id': 1, 'quantity': 5}
2024-12-07 11:51:24,843 | ERROR | sub_update_strategy:update - Failed to update product 'Test Product' in vending machine '1': Database error
2024-12-07 11:51:24,843 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Test Product', 'vending_machine_id': 1, 'quantity': 15}
2024-12-07 11:51:24,843 | WARNING | sub_update_strategy:update - Insufficient stock for product 'Test Product' in vending machine '1'. Available: 10, Requested: 15
2024-12-07 11:51:24,843 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Nonexistent Product', 'vending_machine_id': 1, 'quantity': 5}
2024-12-07 11:51:24,843 | WARNING | sub_update_strategy:update - Product 'Nonexistent Product' not found in vending machine '1'. Purchase aborted.
2024-12-07 11:51:24,844 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Test Product', 'vending_machine_id': 1, 'quantity': 5}
2024-12-07 11:51:24,844 | INFO | sub_update_strategy:update - Purchase successful. Updated product 'Test Product' in vending machine '1' to new quantity: 5
2024-12-07 11:51:30,127 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Test Product', 'vending_machine_id': 1, 'quantity': 5}
2024-12-07 11:51:30,127 | ERROR | sub_update_strategy:update - Failed to update product 'Test Product' in vending machine '1': Database error
2024-12-07 11:51:30,127 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Test Product', 'vending_machine_id': 1, 'quantity': 15}
2024-12-07 11:51:30,127 | WARNING | sub_update_strategy:update - Insufficient stock for product 'Test Product' in vending machine '1'. Available: 10, Requested: 15
2024-12-07 11:51:30,127 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Nonexistent Product', 'vending_machine_id': 1, 'quantity': 5}
2024-12-07 11:51:30,127 | WARNING | sub_update_strategy:update - Product 'Nonexistent Product' not found in vending machine '1'. Purchase aborted.
2024-12-07 11:51:30,127 | INFO | sub_update_strategy:update - Executing update strategy with data: {'name': 'Test Product', 'vending_machine_id': 1, 'quantity': 5}
2024-12-07 11:51:30,127 | INFO | sub_update_strategy:update - Purchase successful. Updated product 'Test Product' in vending machine '1' to new quantity: 5
2024-12-07 11:51:35,868 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:51:35,868 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:51:35,870 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:51:35,870 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:51:35,877 | ERROR | decorators_method:wrapped - Validation error: Request contains banned words., strategy applied: <validation_endpoints_strategy.banned_words_strategy.BannedWordsStrategy object at 0x00000276803C7680>
2024-12-07 11:51:35,877 | INFO | test_request_validations_decorator:test_request_with_banned_words - Test request with banned words: OK!!! ---------------------------> TEST 2 OK!!!
2024-12-07 11:51:35,877 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:51:35,877 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:51:35,879 | INFO | banned_words_strategy:validate - Request does not contain banned words.
2024-12-07 11:51:35,879 | INFO | decorators_method:wrapped - Request passed validation, strategy applied: <validation_endpoints_strategy.banned_words_strategy.BannedWordsStrategy object at 0x00000276812D9C10>
2024-12-07 11:51:35,879 | ERROR | decorators_method:wrapped - Validation error: Request contains potentially dangerous SQL keywords., strategy applied: <validation_endpoints_strategy.sql_injection_strategy.SQLInjectionStrategy object at 0x00000276812DA8D0>
2024-12-07 11:51:35,879 | INFO | test_request_validations_decorator:test_request_with_sql_injection - Test request with sql injection: OK!!! ---------------------------> TEST 3 OK!!!
2024-12-07 11:51:35,880 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:51:35,881 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:51:35,882 | INFO | decorators_method:wrapped - Request passed validation, strategy applied: <validation_endpoints_strategy.banned_words_strategy.BannedWordsStrategy object at 0x00000276FFE694F0>
2024-12-07 11:51:35,882 | INFO | decorators_method:wrapped - Request passed validation, strategy applied: <validation_endpoints_strategy.sql_injection_strategy.SQLInjectionStrategy object at 0x00000276812DA5D0>
2024-12-07 11:51:35,882 | INFO | decorators_method:wrapped - Request passed validation
2024-12-07 11:51:35,882 | INFO | test_request_validations_decorator:test_request_with_valid_data - Test request with valid data: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:51:41,635 | INFO | utils:tuple_rows_to_dict - List of dictionaries: []
2024-12-07 11:51:41,635 | INFO | test_utils:test_empty_list_input - Test tuple rows to dict with empty list: OK!!! ---------------------------> TEST 3 OK!!!
2024-12-07 11:51:41,635 | INFO | utils:tuple_to_dict - Dictionary: {}
2024-12-07 11:51:41,635 | INFO | test_utils:test_empty_tuple_input - Test tuple to dict with empty tuple: OK!!! ---------------------------> TEST 4 OK!!!
2024-12-07 11:51:41,635 | INFO | test_utils:test_mismatched_columns_length - Test mismatched columns length: OK!!! ---------------------------> TEST 5 OK!!!
2024-12-07 11:51:41,635 | INFO | utils:tuple_rows_to_dict - List of dictionaries: [{'id': 1, 'name': 'Alice', 'age': 25, 'occupation': 'Engineer'}, {'id': 2, 'name': 'Bob', 'age': 30, 'occupation': 'Designer'}, {'id': 3, 'name': 'Charlie', 'age': 35, 'occupation': 'Manager'}]
2024-12-07 11:51:41,636 | INFO | test_utils:test_tuple_rows_to_dict - Test tuple rows to dict: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:51:41,636 | INFO | utils:tuple_to_dict - Dictionary: {'id': 4, 'name': 'Diana', 'age': 40, 'occupation': 'Architect'}
2024-12-07 11:51:41,636 | INFO | test_utils:test_tuple_to_dict - Test tuple to dict: OK!!! ---------------------------> TEST 2 OK!!!
2024-12-07 11:51:46,691 | INFO | event_manager:subscribe - Created new subscriber list for event CustomEvent
2024-12-07 11:51:46,691 | INFO | event_manager:subscribe - Subscriber added to event CustomEvent
2024-12-07 11:51:46,692 | INFO | event_manager:notify - Event CustomEvent notified successfully
2024-12-07 11:51:46,692 | INFO | event_manager:subscribe - Created new subscriber list for event TestEvent
2024-12-07 11:51:46,692 | INFO | event_manager:subscribe - Subscriber added to event TestEvent
2024-12-07 11:51:46,692 | INFO | pub_notify_strategy:notify - Notifying subscribers for event TestEvent with data: {'key': 'value'}
2024-12-07 11:51:46,692 | INFO | pub_notify_strategy:notify - Subscriber mock_table updated for event TestEvent
2024-12-07 11:51:46,692 | INFO | event_manager:notify - Event TestEvent notified successfully
2024-12-07 11:51:46,692 | INFO | event_manager:subscribe - Created new subscriber list for event TestEvent
2024-12-07 11:51:46,692 | INFO | event_manager:subscribe - Subscriber added to event TestEvent
2024-12-07 11:51:46,692 | INFO | event_manager:unsubscribe - Subscriber removed from event TestEvent
2024-12-07 11:53:02,676 | INFO | banned_words_strategy:__init__ - Banned words loaded successfully.
2024-12-07 11:53:02,676 | INFO | sql_injection_strategy:__init__ - SQL injection patterns initialized.
2024-12-07 11:53:02,678 | ERROR | decorators_method:wrapper - Record with ID 999 not found
2024-12-07 11:53:02,678 | INFO | test_immutable_fields:test_record_not_found - Test record not found: OK!!! ---------------------------> TEST 3 OK!!!
2024-12-07 11:53:02,678 | INFO | decorators_method:wrapper - Record with ID 1 found
2024-12-07 11:53:02,678 | INFO | utils:tuple_to_dict - Dictionary: {'id': '1', 'col1': 'value_1', 'col2': 'value_2', 'col3': 'value_3'}
2024-12-07 11:53:02,678 | INFO | decorators_method:wrapper - Update allowed fields
2024-12-07 11:53:02,679 | INFO | test_immutable_fields:update_record - Record 1 updated with {'col1': 'new_value_1'}
2024-12-07 11:53:02,679 | INFO | test_immutable_fields:test_update_allowed_fields - Test update allowed fields: OK!!! ---------------------------> TEST 1 OK!!!
2024-12-07 11:53:02,679 | INFO | decorators_method:wrapper - Record with ID 1 found
2024-12-07 11:53:02,679 | INFO | utils:tuple_to_dict - Dictionary: {'id': '1', 'col1': 'value_1', 'col2': 'value_2', 'col3': 'value_3'}
2024-12-07 11:53:02,679 | ERROR | decorators_method:wrapper - Attempt to update immutable field id
2024-12-07 11:53:02,679 | INFO | test_immutable_fields:test_update_immutable_field - Test update immutable field: OK!!! ---------------------------> TEST 2 OK!!!
